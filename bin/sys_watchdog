#!/usr/bin/env ruby

require 'sys_watchdog'

case ARGV[0]

when 'setup_with_systemd'
  Setup.new.setup_with_systemd

when 'setup_with_cron'
  Setup.new.setup_with_cron

when 'test'
  sw = SysWatchdog.new log_file: STDOUT
  sw.run once: true

when 'once'
  SysWatchdog.new.run once: true

when nil
  SysWatchdog.new.run
end

